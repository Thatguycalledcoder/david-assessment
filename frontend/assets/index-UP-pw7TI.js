import{u as y,a as b,r as l,j as e}from"./index-uAuKHq8b.js";import{r as w,a as v,u as N,L}from"./index-aFSlLJBv.js";const k=w(v.create({baseURL:"http://zedulo.com:1289/backend/api",headers:{"Content-Type":"application/json"}}),{maxRequests:10}),C=async(i,t)=>{i=i.trim().slice(0,255),t=t.trim().slice(0,255);const a={email:i,password:t};try{return(await k.post("/login",a)).data}catch{return{success:!1,message:"Process failed. Try again."}}},E=()=>{const i=y(),t=b(),{t:a}=N();let n;t.state&&(n=t.state.message!=null?t.state.message:"");const[o,r]=l.useState(!1),[d,x]=l.useState(""),[g,u]=l.useState(""),[c,h]=l.useState(""),f=s=>{x(s)},p=s=>{u(s)},m=s=>{h(s)},j=async()=>{r(!0);const s=await C(d,g);s.success?(localStorage.setItem("token",s.token),localStorage.setItem("zed_user",s.id),i("/")):m(s.message),r(!1)};return e.jsxs("div",{className:"flex min-h-full flex-col justify-center items-center px-6 py-12",children:[e.jsxs("div",{className:"my-4 flex items-center justify-between w-full max-w-sm",children:[e.jsx("div",{children:" "}),e.jsx(L,{})]}),e.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-sm",children:[e.jsx("p",{className:"text-3xl text-center",children:"❄"}),e.jsx("h2",{className:"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900",children:a("Login-head")})]}),e.jsxs("div",{className:"mt-10 sm:mx-auto sm:w-full w-full max-w-sm",children:[e.jsx("p",{className:"text-red-600 my-2 text-center font-semibold",children:c!=null&&c}),e.jsx("p",{className:"text-green-600 my-2 text-center font-semibold",children:n!=null&&n}),e.jsxs("form",{className:"space-y-6",action:"#",method:"POST",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium leading-6 text-gray-900",children:a("Email")}),e.jsx("div",{className:"mt-2",children:e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,maxLength:255,className:"block w-full rounded-md border-0 py-1.5 px-3 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-700 sm:text-sm sm:leading-6",onChange:s=>f(s.target.value)})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium leading-6 text-gray-900",children:a("Password")}),e.jsx("div",{className:"text-sm",children:e.jsx("a",{href:"#",className:"font-semibold text-indigo-600 hover:text-indigo-500",children:"Forgot password?"})})]}),e.jsx("div",{className:"mt-2",children:e.jsx("input",{id:"password",name:"password",type:"password",maxLength:255,minLength:8,required:!0,className:"block w-full rounded-md border-0 py-1.5 px-3 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",onChange:s=>p(s.target.value)})})]}),e.jsx("div",{children:e.jsx("button",{type:"button",className:"flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",onClick:()=>j(),disabled:o,children:o?"Loading...":a("Login")})})]}),e.jsxs("p",{className:"mt-10 text-center text-sm text-gray-500",children:["New here? ",e.jsx("a",{href:"#",className:"font-semibold leading-6 text-indigo-600 hover:text-indigo-500",onClick:()=>{m(""),i("/register")},children:a("Login redirect")})]})]})]})};export{E as default};
