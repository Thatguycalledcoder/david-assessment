import{u as y,r as n,j as e}from"./index-uAuKHq8b.js";import{r as b,a as v,u as N,L as C}from"./index-aFSlLJBv.js";const m=b(v.create({baseURL:"http://zedulo.com:1289/backend/api",headers:{"Content-Type":"application/json"}}),{maxRequests:10}),k=async(a,t)=>{console.log(m),a=a.trim().slice(0,255),t=t.trim().slice(0,255);const i={email:a,password:t};console.log(i);try{const r=await m.post("/register",i);return console.log(`Response: ${r.data}`),r.data}catch{return{success:!1,errors:{message:"Process failed"}}}},R=()=>{const a=y(),{t}=N(),[i,r]=n.useState(!1),[g,x]=n.useState(""),[o,u]=n.useState(""),[h,f]=n.useState(""),[c,d]=n.useState(""),p=s=>{x(s)},w=s=>{u(s)},l=s=>{d(s)},j=async()=>{if(r(!0),o===h){const s=await k(g,o);s.success?a("/login",{state:{message:t("Account create")}}):"email"in s.errors?l(s.errors.email):"password"in s.errors?l(s.errors.password):l(s.errors.message)}else d("Password and confirmation password do not match.");r(!1)};return e.jsxs("div",{className:"flex min-h-full flex-col justify-center items-center px-6 py-12",children:[e.jsxs("div",{className:"my-4 flex items-center justify-between w-full max-w-sm",children:[e.jsx("div",{children:" "}),e.jsx(C,{})]}),e.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-sm",children:[e.jsx("p",{className:"text-3xl text-center",children:"❄"}),e.jsx("h2",{className:"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900",children:t("Register-head")})]}),e.jsxs("div",{className:"mt-10 sm:mx-auto sm:w-full w-full max-w-sm",children:[e.jsx("p",{className:"text-red-600 mb-5 text-center font-semibold",children:c!==""&&c}),e.jsxs("form",{className:"space-y-6",action:"#",method:"POST",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium leading-6 text-gray-900",children:t("Email")}),e.jsx("div",{className:"mt-2",children:e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,maxLength:255,className:"block w-full rounded-md border-0 py-1.5 px-3 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-700 sm:text-sm sm:leading-6",onChange:s=>p(s.target.value)})})]}),e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium leading-6 text-gray-900",children:t("Password")})}),e.jsx("div",{className:"mt-2",children:e.jsx("input",{id:"password",name:"password",type:"password",maxLength:255,minLength:8,required:!0,className:"block w-full rounded-md border-0 py-1.5 px-3 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",onChange:s=>w(s.target.value)})})]}),e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("label",{htmlFor:"confirm_password",className:"block text-sm font-medium leading-6 text-gray-900",children:t("Confirm Password")})}),e.jsx("div",{className:"mt-2",children:e.jsx("input",{id:"confirm_password",name:"confirm_password",type:"password",maxLength:255,minLength:8,required:!0,className:"block w-full rounded-md border-0 py-1.5 px-3 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",onChange:s=>f(s.target.value)})})]}),e.jsx("div",{children:e.jsx("button",{type:"button",className:"flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",onClick:()=>j(),disabled:i,children:i?"Loading...":t("Register")})})]}),e.jsxs("p",{className:"mt-10 text-center text-sm text-gray-500",children:[t("Register question")," ",e.jsx("a",{href:"#",className:"font-semibold leading-6 text-indigo-600 hover:text-indigo-500",onClick:()=>a("/login"),children:t("Register redirect")})]})]})]})};export{R as default};
